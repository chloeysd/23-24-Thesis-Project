<!-- Defines the document type as HTML5 -->
<!-- ref:https://www.geeksforgeeks.org/templating-with-jinja2-in-flask/-->
<!DOCTYPE html>
<!-- Specifies the language of the document as English -->
<html lang="en">
<head>
    <!-- Specifies the character encoding as UTF-8 -->
    <meta charset="UTF-8">
    <!-- Ensures proper scaling and layout on different screen sizes -->
    <!-- ref:https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Sets the title of the webpage to "Prediction Result" -->
    <title>Prediction Result</title>
    <!-- Links the external CSS stylesheet for styling the page -->
    <!-- ref:https://www.freecodecamp.org/news/how-to-link-css-to-html/-->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- Main heading for the prediction result section -->
    <!-- ref: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/strong -->
    <h1>Prediction Result</h1>
    <!-- Displays a description based on the user's input -->
    <p>Based on the text you entered:</p>
    <!-- Displays the actual text inputted by the user -->
    <p>{{ user_input }}</p>
    <!-- Displays the predicted MBTI personality type -->
    <p>The predicted MBTI personality type is: <strong>{{ mbti_type }}</strong></p>
    <!-- Displays the recommended brands based on the MBTI type -->
    <p>Recommended Brands: <strong>{{ recommended_brands }}</strong></p>
    <!-- Displays the recommended colors based on the MBTI type and sentiment -->
    <p>Recommended Colors: <strong>{{ recommended_colors }}</strong></p>
    <!-- Displays the sentiment analysis results: polarity and subjectivity, formatted to two decimal places -->
    <p>Sentiment Polarity: <strong>{{ "%.2f" % sentiment_polarity }}</strong>, Sentiment Subjectivity: <strong>{{ "%.2f" % sentiment_subjectivity }}</strong></p>
    <!-- Displays the topics extracted using LDA from the user input -->
    <p>Extracted Topics: <strong>{{ topics }}</strong></p>

    <!-- Section for embedding the network visualization -->
    <h2>Network Visualization</h2>
    <!-- Embeds an interactive network visualization using an iframe -->
    <!-- ref:https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe-->
    <iframe src="{{ url_for('static', filename='interactive_network.html') }}" width="100%" height="500px"></iframe>

    <!-- Form for triggering the LDA analysis based on the predicted MBTI type -->
    <!--ref:https://stackoverflow.com/questions/8395269/what-do-form-action-and-form-method-post-action-do-->
    <form action="{{ url_for('lda') }}" method="POST">
        <!-- Hidden input field to pass the MBTI type to the LDA analysis form -->
        <input type="hidden" name="mbti_type" value="{{ mbti_type }}">
        <!-- Button to submit the form and trigger the LDA analysis -->
        <button type="submit">Show LDA Analysis</button>
    </form>

   <!-- Form for submitting a prompt for image generation using Stable Diffusion --> 
    <form action="{{ url_for('generate_image') }}" method="POST">
        <!-- Label and input field for entering a prompt for image generation -->
        <label for="prompt">Enter a prompt for image generation:</label>
        <input type="text" id="prompt" name="prompt" value="a black gucci bag">
        <!-- Button to submit the prompt and generate the image -->
        <button type="submit">Generate Image</button>
    </form>
</body>
</html>
